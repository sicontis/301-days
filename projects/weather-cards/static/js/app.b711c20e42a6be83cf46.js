webpackJsonp([1],{"1Tvo":function(t,e){t.exports={checkStorage:function(){return"undefined"==typeof Storage?(alert("No local storage support"),!1):null!==localStorage.getItem("cities")||void 0},getCities:function(){return JSON.parse(localStorage.getItem("cities"))},saveCities:function(t){const e=JSON.stringify(t);return localStorage.setItem("cities",e)}}},LWcb:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("h1",[t._v("Weather App Cards")]),t._v(" "),a("p",[t._v("Search by city and save/remove cards to local storage")]),t._v(" "),a("header",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{type:"text"},domProps:{value:t.city},on:{keyup:function(e){t.getCities(e.target.value)},input:function(e){e.target.composing||(t.city=e.target.value)}}}),t._v(" "),a("div",{attrs:{id:"results"}},[t.showResults?a("ul",t._l(t.cityResults,function(e){return a("li",{key:e.name,on:{click:function(a){t.fetchWeather(e.name)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])})):t._e()])]),t._v(" "),a("section",[a("transition",{attrs:{name:"result"}},[t.showInfo?a("div",{staticClass:"weather-card",on:{click:function(e){t.saveWeatherData(t.weatherData)}}},[a("div",{staticClass:"card-header"},[a("h1",[t._v(t._s(t.weatherData.city)+", "+t._s(t.weatherData.country))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("i",{class:t.weatherData.icon}),t._v(" "),a("p",[t._v(t._s(t.weatherData.forecast))])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("h1",{domProps:{innerHTML:t._s(t.weatherData.temp+"&deg;")}})]),t._v(" "),a("div",{staticClass:"weather-card-modal"},[a("h3",[t._v("Save")])])]):t._e()])],1),t._v(" "),a("section",[t.cities.length>0?a("div",{staticClass:"weather-board"},[a("transition-group",{staticClass:"list-ul",attrs:{name:"list",tag:"ul"}},t._l(t.cities,function(e,i){return a("li",{key:e.city},[a("div",{staticClass:"weather-card",style:{backgroundColor:e.bgColor},on:{click:function(e){t.removeWeatherData(i)}}},[a("div",{staticClass:"card-header"},[a("h1",[t._v(t._s(e.city)+", "+t._s(e.country))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("i",{class:e.icon}),t._v(" "),a("p",[t._v(t._s(e.forecast))])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("h1",{domProps:{innerHTML:t._s(e.temp+"&deg;")}})]),t._v(" "),a("div",{staticClass:"weather-card-modal delete"},[a("h3",[t._v("Remove")])])])])}))],1):a("div",{attrs:{id:"message"}},[t._m(0)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[t._v("No weather items to show."),a("br"),t._v(" Add an item using the search box above")])}],s={render:i,staticRenderFns:n};e.a=s},M93x:function(t,e,a){"use strict";function i(t){a("Yi/1")}var n=a("xJD8"),s=a("LWcb"),r=a("VU/8"),o=i,c=r(n.a,s.a,o,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),n=a("M93x");i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:n.a}})},"Yi/1":function(t,e){},xJD8:function(t,e,a){"use strict";var i=a("rCTf"),n=(a.n(i),a("S35O")),s=(a.n(n),a("wUn1")),r=(a.n(s),a("aV5h")),o=(a.n(r),a("q3ik")),c=(a.n(o),a("mtWM")),u=a.n(c),h=a("1Tvo");e.a={name:"app",data:function(){return{apikey:"579dc9e1b9185e8312a5973983e5b62e",weatherData:{},city:"",cityResults:[],cities:[],showResults:!1,showInfo:!1,bkg:[]}},methods:{getCities:function(t){var e=this;i.Observable.create(function(e){e.next(t)}).filter(function(t){return t.length>2}).debounceTime(200).distinctUntilChanged().subscribe(function(t){return u.a.get("http://autocomplete.wunderground.com/aq?query="+t).then(function(t){e.showResults=!0,e.cityResults=t.data.RESULTS}).catch(function(t){return console.log(t)})})},fetchWeather:function(t){var e=this;return u()({method:"get",url:"http://api.openweathermap.org/data/2.5/weather",params:{q:t,APPID:this.apikey}}).then(function(a){e.weatherData={city:a.data.name,country:a.data.sys.country,temp:e.convertToF(a.data.main.temp),forecast:a.data.weather[0].description,icon:e.iconClass(a.data.weather[0].icon)},e.showResults=!1,e.showInfo=!0,e.city=t}).catch(function(t){return console.log(t)})},iconClass:function(t){return"owi owi-"+t},convertToF:function(t){return Math.round(1.8*(t-275.15))},saveWeatherData:function(t){t.bgColor=this.setRandomColor(),this.cities.push(t),this.city="",this.showInfo=!1},removeWeatherData:function(t){this.cities.splice(t,1)},setRandomColor:function(){for(var t="BCDEF".split(""),e="#",a=0;a<6;a++)e+=t[Math.floor(Math.random()*t.length)];return e},refreshForecast:function(){var t=this;h.getCities().forEach(function(e){return u()({method:"get",url:"http://api.openweathermap.org/data/2.5/weather",params:{q:e.city,APPID:t.apikey}}).then(function(e){t.cities.temp=t.convertToF(e.data.main.temp),t.cities.forecast=e.data.weather[0].description,t.cities.icon=t.iconClass(e.data.weather[0].icon)})})}},created:function(){h.checkStorage()?this.cities=h.getCities():this.cities=[]},mounted:function(){this.refreshForecast()},updated:function(){h.saveCities(this.cities),this.refreshForecast()}}}},["NHnr"]);
//# sourceMappingURL=app.b711c20e42a6be83cf46.js.map