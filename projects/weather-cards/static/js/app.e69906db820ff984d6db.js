webpackJsonp([1],{"1Tvo":function(t,e){t.exports={checkStorage:function(){return"undefined"==typeof Storage?(alert("No local storage support"),!1):null!==localStorage.getItem("cities")||void 0},getCities:function(){return JSON.parse(localStorage.getItem("cities"))},saveCities:function(t){const e=JSON.stringify(t);return localStorage.setItem("cities",e)}}},"4ZN9":function(t,e,a){"use strict";function s(t){a("MnRJ")}var r=a("nWmR"),n=a("Ecc0"),i=a("VU/8"),o=s,c=i(r.a,n.a,o,"data-v-110e0a08",null);e.a=c.exports},Ecc0:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text"},domProps:{value:t.query},on:{keyup:function(e){t.getCities(e.target.value)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),a("div",{attrs:{id:"results"}},[t.showResults?a("ul",t._l(t.cityResults,function(e){return a("li",{key:e.name,on:{click:function(a){t.$store.dispatch("fetchWeather",e.name)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])})):t._e()])])},r=[],n={render:s,staticRenderFns:r};e.a=n},IcnI:function(t,e,a){"use strict";var s=a("7+uW"),r=a("NYxO"),n=a("mtWM"),i=a.n(n);s.a.use(r.a),e.a=new r.a.Store({state:{apikey:"579dc9e1b9185e8312a5973983e5b62e",query:"",showResults:!1,showInfo:!1,weatherData:{},cityResults:[],cities:[],refresh:!1},mutations:{GET_CITIES:function(t,e){t.showResults=!0,t.cityResults=e},FETCH_WEATHER:function(t,e){t.weatherData={id:e.id,city:e.name,country:e.sys.country,temp:Math.round(1.8*(e.main.temp-275.15)),forecast:e.weather[0].description,icon:"owi owi-"+e.weather[0].icon},t.showResults=!1,t.showInfo=!0,t.query=e.name},REFRESH_FORECAST:function(t,e){for(var a=0;a<t.cities.length;a++)if(t.cities[a].id===e[1]){t.cities[a].temp=Math.round(1.8*(e[0].main.temp-275.15)),t.cities[a].forecast=e[0].weather[0].description,t.cities[a].icon="owi owi-"+e[0].weather[0].icon;break}}},actions:{getCities:function(t,e){var a=t.commit;return i.a.get("http://autocomplete.wunderground.com/aq?query="+e).then(function(t){return a("GET_CITIES",t.data.RESULTS)}).catch(function(t){return console.log(t)})},fetchWeather:function(t,e){var a=t.state,s=t.commit;return i()({method:"get",url:"http://api.openweathermap.org/data/2.5/weather",params:{q:e,APPID:a.apikey}}).then(function(t){return s("FETCH_WEATHER",t.data)}).catch(function(t){return console.log(t)})},refreshForecast:function(t,e){var a=t.state,s=t.commit;return i()({method:"get",url:"http://api.openweathermap.org/data/2.5/weather",params:{q:e.city,APPID:a.apikey}}).then(function(t){s("REFRESH_FORECAST",[t.data,e.id])}).catch(function(t){return console.log(t)})}}})},LWcb:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("h1",[t._v("Weather Cards")]),t._v(" "),a("p",[t._v("Search by city and save/remove cards to local storage")]),t._v(" "),a("search-results"),t._v(" "),a("search-card"),t._v(" "),a("weather-board"),t._v(" "),t._m(0)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("p",[t._v("Built with \n      "),a("a",{attrs:{href:"https://vuejs.org/"}},[t._v("VueJS")]),t._v(", \n      "),a("a",{attrs:{href:"https://vuex.vuejs.org/en/"}},[t._v("Vuex")]),t._v(", \n      "),a("a",{attrs:{href:"http://reactivex.io/"}},[t._v("RxJS")]),t._v(", \n      "),a("a",{attrs:{href:"https://github.com/mzabriskie/axios"}},[t._v("Axios")]),t._v(", and the \n      "),a("a",{attrs:{href:"https://openweathermap.org/api"}},[t._v("OpenWeatherMap API")])])])}],n={render:s,staticRenderFns:r};e.a=n},LpTV:function(t,e,a){"use strict";function s(t){a("SAuE")}var r=a("sdYY"),n=a("njLv"),i=a("VU/8"),o=s,c=i(r.a,n.a,o,"data-v-675a416e",null);e.a=c.exports},LvX3:function(t,e){},M93x:function(t,e,a){"use strict";function s(t){a("Yi/1")}var r=a("xJD8"),n=a("LWcb"),i=a("VU/8"),o=s,c=i(r.a,n.a,o,null,null);e.a=c.exports},MnRJ:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=a("M93x"),n=a("IcnI");s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",store:n.a,components:{App:r.a}})},SAuE:function(t,e){},VL0K:function(t,e,a){"use strict";var s=a("1Tvo");e.a={computed:{cities:{get:function(){return this.$store.state.cities},set:function(t){this.$store.state.cities=t}}},methods:{removeWeatherData:function(t){this.cities.splice(t,1)},refreshForecast:function(){var t=this;s.getCities().forEach(function(e){t.$store.dispatch("refreshForecast",e)})}},created:function(){s.checkStorage()?this.cities=s.getCities():this.cities=[]},updated:function(){this.refreshForecast(),s.saveCities(this.cities)}}},"Yi/1":function(t,e){},iMyy:function(t,e,a){"use strict";function s(t){a("LvX3")}var r=a("VL0K"),n=a("iP0V"),i=a("VU/8"),o=s,c=i(r.a,n.a,o,"data-v-46af4b68",null);e.a=c.exports},iP0V:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.cities.length>0?a("div",{staticClass:"weather-board"},[a("transition-group",{staticClass:"list-ul",attrs:{name:"list",tag:"ul"}},t._l(t.cities,function(e,s){return a("li",{key:e.city},[a("div",{staticClass:"weather-card",style:{backgroundColor:e.bgColor},on:{click:function(e){t.removeWeatherData(s)}}},[a("div",{staticClass:"card-header"},[a("h1",[t._v(t._s(e.city)+", "+t._s(e.country))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("i",{class:e.icon}),t._v(" "),a("p",[t._v(t._s(e.forecast))])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("h1",{domProps:{innerHTML:t._s(e.temp+"&deg;")}})]),t._v(" "),a("div",{staticClass:"weather-card-modal delete"},[a("h3",[t._v("Remove")])])])])}))],1):a("div",{attrs:{id:"message"}},[t._m(0)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[t._v("No weather items to show."),a("br"),t._v(" Add an item using the search box above")])}],n={render:s,staticRenderFns:r};e.a=n},nWmR:function(t,e,a){"use strict";var s=a("rCTf"),r=(a.n(s),a("S35O")),n=(a.n(r),a("wUn1")),i=(a.n(n),a("aV5h")),o=(a.n(i),a("q3ik"));a.n(o);e.a={computed:{query:{get:function(){return this.$store.state.query},set:function(t){this.$store.state.query=t}},showResults:function(){return this.$store.state.showResults},cityResults:function(){return this.$store.state.cityResults}},methods:{getCities:function(t){var e=this;s.Observable.create(function(e){e.next(t)}).filter(function(t){return t.length>2}).debounceTime(200).distinctUntilChanged().subscribe(function(t){return e.$store.dispatch("getCities",t)})}}}},njLv:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("transition",{attrs:{name:"result"}},[t.showInfo?a("div",{staticClass:"weather-card",on:{click:function(e){t.saveWeatherData(t.weatherData)}}},[a("div",{staticClass:"card-header"},[a("h1",[t._v(t._s(t.weatherData.city)+", "+t._s(t.weatherData.country))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("i",{class:t.weatherData.icon}),t._v(" "),a("p",[t._v(t._s(t.weatherData.forecast))])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("h1",{domProps:{innerHTML:t._s(t.weatherData.temp+"&deg;")}})]),t._v(" "),a("div",{staticClass:"weather-card-modal"},[a("h3",[t._v("Save")])])]):t._e()])],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},sdYY:function(t,e,a){"use strict";e.a={computed:{showInfo:function(){return this.$store.state.showInfo},weatherData:function(){return this.$store.state.weatherData}},methods:{saveWeatherData:function(t){t.bgColor=this.setRandomColor(),this.$store.state.cities.push(t),this.$store.state.query="",this.$store.state.showInfo=!1},setRandomColor:function(){for(var t="BCDEF".split(""),e="#",a=0;a<6;a++)e+=t[Math.floor(Math.random()*t.length)];return e}}}},xJD8:function(t,e,a){"use strict";var s=a("4ZN9"),r=a("LpTV"),n=a("iMyy"),i=a("mtWM");a.n(i);e.a={name:"app",components:{"search-results":s.a,"search-card":r.a,"weather-board":n.a}}}},["NHnr"]);
//# sourceMappingURL=app.e69906db820ff984d6db.js.map